{"version":3,"sources":["img/woogle.png","Weather.js","Input.js","Search.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Weather","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","data","weather","mainWeather","main","desc","description","icon","detail","temp","Math","round","currentDate","Date","hour","String","getHours","minute","concat","getMinutes","slice","place","name","react_default","a","createElement","className","src","alt","takeWeatherInfo","_this2","params","appid","units","lat","lon","request","get","query","end","err","res","loadedJson","console","error","body","setState","log","Component","Input","value","input","focus","onSubmit","e","ref","elem","type","placeholder","onChange","handleChange","preventDefault","target","Search","Input_Input","Weather_Weather","_this3","fetchp","url","then","json","loadedJSON","catch","coord","Feature","Geometry","Coordinates","split","App","imgUrl","Search_Search","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.869e48c0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/woogle.85bca83e.png\";","import React, { Component } from 'react'\nimport request from 'superagent'\n\nexport default class Weather extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: null\n    }\n  }\n  render () {\n    if (!this.state.data) {\n      return (\n        <p />\n      )\n    } else {\n      const weather = this.state.data.weather[0]\n      const mainWeather = weather.main\n      const desc = weather.description\n      const icon = weather.icon\n\n      const detail = this.state.data.main\n      const temp = Math.round(detail.temp)\n      // const humidity = detail.humidity\n      const currentDate = new Date()\n      const hour = String(currentDate.getHours())\n      const minute = `0${String(currentDate.getMinutes())}`.slice(-2)\n      const place = this.state.data.name\n\n      return (\n        <div className='container'>\n          <section className='main'>\n            <div className='place'>{place}</div>\n            <div className='time'>{`${hour}:${minute}`}</div>\n            <div className='mainweather'>{mainWeather}</div>\n            <div className='desc'>{desc}</div>\n          </section>\n          <section className='icon-container'>\n            <img className='icon' src={`http://openweathermap.org/img/w/${icon}.png`} alt='icon' />\n            <div className='temp'><span>{temp}</span>Â°C</div>\n          </section>\n        </div>\n      )\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.takeWeatherInfo()\n  }\n\n  takeWeatherInfo () {\n    const URL = 'https://api.openweathermap.org/data/2.5/weather'\n    const params = {\n      appid: 'ade5a3e23673a51a072c0fb1c8ace21c',\n      units: 'metric',\n      lat: this.props.lat,\n      lon: this.props.lon\n    }\n    request\n      .get(URL)\n      .query(params)\n      .end((err, res) => this.loadedJson(err, res))\n  }\n\n  loadedJson (err, res) {\n    if (err) return console.error(err)\n    if (!res.body) return console.log('no body')\n    this.setState({\n      data: res.body\n    })\n    console.log(this.state.data)\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class Input extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      value: ''\n    }\n  }\n\n  componentDidMount () {\n    this.input.focus()\n  }\n\n  render () {\n    return (\n      <div className='search-area'>\n        <form onSubmit={e => this.onSubmit(e)}>\n          <input\n            ref={elem => { this.input = elem }}\n            type='text'\n            placeholder={this.props.placeholder}\n            value={this.state.value}\n            onChange={e => this.handleChange(e)}\n          />\n          <button\n            type='submit'\n          />\n        </form>\n      </div>\n    )\n  }\n\n  onSubmit (e) {\n    e.preventDefault()\n    this.props.onSubmit(this.state.value)\n  }\n\n  handleChange (e) {\n    this.setState({ value: e.target.value })\n  }\n}\n","import React, { Component } from 'react'\nimport fetchp from 'fetch-jsonp'\nimport Weather from './Weather'\nimport Input from './Input'\n\nexport default class Search extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: null,\n      lat: 0,\n      lon: 0\n    }\n  }\n\n  render () {\n    console.log(this.state.data)\n    return (\n      <div>\n        <Input\n          placeholder='Address'\n          value='Search'\n          onSubmit={(e) => this.onSubmit(e)}\n        />\n        <Weather\n          lat={this.state.lat}\n          lon={this.state.lon}\n        />\n      </div>)\n  }\n\n  onSubmit (e) {\n    const url = 'https://map.yahooapis.jp/geocode/V1/geoCoder?'\n    const appid = 'appid=dj00aiZpPXVCNlZPdDFlQ00zSSZzPWNvbnN1bWVyc2VjcmV0Jng9YTM-&'\n    const output = 'output=json&'\n    const query = 'query=' + e\n    fetchp(url + appid + output + query)\n      .then(res => res.json())\n    // .then(json => console.log('e:', json.Feature[0].Geometry.Coordinates))\n      .then(json => this.loadedJSON(json))\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  loadedJSON (res) {\n    const coord = res.Feature[0].Geometry.Coordinates.split(',')\n    this.setState({\n      data: res,\n      lat: coord[1],\n      lon: coord[0]\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport Search from './Search'\nimport './css/search.css'\nimport './css/main.css'\nimport './css/content.css'\nimport imgUrl from './img/woogle.png'\n\nexport default class App extends Component {\n  render () {\n    return (\n      <div>\n        <div className='logo'><img src={imgUrl} alt='logo' /></div>\n        <Search />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n// import * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}